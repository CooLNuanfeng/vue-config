(function(a){a.fn.spinner=function(b){b=a.extend({disabled:false,max:null,min:null,upText:"+",downText:"-",step:1,value:null,onChange:null},b);return this.each(function(){var j=a(this),e=a(document),k=j.attr("max")||b.max,g=j.attr("min")||b.min,l=j.val()||b.value,d=parseInt(j.attr("step")||b.step),i='<div class="wrap-spinner"><a href="javascript:void(0)" class="spinner spinner-add">'+b.upText+'</a><a href="javascript:void(0)" class="spinner spinner-down">'+b.downText+"</a></div>";j.after(i);var f=j.next().find(".spinner-add");var n=f.next();var c=parseInt(j.val());if(c==k){f.addClass("spinner-disabled")}if(c==g){n.addClass("spinner-disabled")}function h(){var o=parseInt(j.val());n.removeClass("spinner-disabled");if(o<k){o=o+d;j.val(o)}if(o==k){f.addClass("spinner-disabled")}if(typeof(b.onChange)==="function"){b.onChange()}}function m(){var o=parseInt(j.val());f.removeClass("spinner-disabled");if(o>g){o=o-d;j.val(o)}if(o==g){n.addClass("spinner-disabled")}if(typeof(b.onChange)==="function"){b.onChange()}}f.click(function(){h()});n.click(function(){m()});j.keydown(function(p){var o=p.keyCode;if(o==38){h()}if(o==40){m()}})})}})(typeof(jQuery)!=="undefined"?jQuery:Zepto);
(function(a){a.fn.ellipsis=function(){return this.each(function(){var i=a(this),j=i.text(),g=document.documentElement.style;i.css({"white-space":"nowrap",overflow:"hidden"});if("textOverflow" in g||"OTextOverflow" in g){i.css({"text-overflow":"ellipsis","-o-text-overflow":"ellipsis"})}else{var f=i.width(),h=i.clone().insertAfter(i),e=0,d=j.length,k=d;h.text(j).css({position:"absolute",width:"auto",visibility:"hidden",overflow:"hidden"});if(h.width()>f){while((k=Math.floor((d+e)/2))>e){h.text(j.substr(0,k)+"…");if(h.width()>f){d=k}else{e=k}}i.text(j.substr(0,k)+"…")}h.remove()}if(!i.attr("title")){i.attr("title",j)}})}})(jQuery);
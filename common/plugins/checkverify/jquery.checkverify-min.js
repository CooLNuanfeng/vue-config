(function (a) { a.fn.extend({ checkverify: function (b) { var c = { success: null, error: null }; var b = a.extend(c, b); return this.each(function () { var d = b; var e = a(this); e.wrap('<span class="wrap-verify"></span>').after("<s></s>").keyup(function () { var h = e; var g = h.next(); var f = this.value.length; if (f >= 4) { a.ajax({ url: "//fun{0}/client/verify/check?passcode=".format(Fanli.Utility.rootDomain) + this.value, dataType: "jsonp", jsonp: "jsoncallback", success: function (i) { if (i.status == 1) { if (i.data == 1) { g.removeClass("error").show(); a("#codeinfo").html(""); if (typeof (d.success) === "function") { d.success() } } else { if (i.data == 2) { g.addClass("error").show(); a("#codeimg").attr("src", verifyCodeImageUrl + (new Date()).getTime()); if (typeof (d.error) === "function") { d.error() } } else { g.addClass("error").show(); if (typeof (d.error) === "function") { d.error() } } } } } }) } else { g.removeClass("error").hide() } }) }) } }) })(jQuery);

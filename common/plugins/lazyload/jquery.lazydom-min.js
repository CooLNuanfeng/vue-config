(function(n){n.fn.lazydom=function(t){return t=n.extend({autoload:!1,threshold:0,callback:n.noop},t),this.each(function(){function e(){u!=1&&r.scrollTop()>=i.offset().top-r.height()-t.threshold&&o()}function o(){u!=1&&(f.before(i.find("textarea.J_html_pack").val()),s(),t.callback(i))}function s(){u=1,i.addClass("finish-load"),f.remove()}function h(){r.on("scroll.lazydom resize.lazydom",function(){e()})}var i=n(this),r=n(window),f=i.find("textarea.J_html_pack"),u=0;t.autoload?o():(e(),h())})}})(jQuery)
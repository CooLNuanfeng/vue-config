(function(b){b.fn.countdown=function(c){return this.each(function(){a(this,c)})};function a(e,c){var d={output:".J-CountDown",type:"all",day:".J-Day",hour:".J-Hour",minute:".J-Minute",second:".J-Second",coke:false,onExpiry:null};if(!(this instanceof a)){return new a(e,c)}this.config=b.extend(d,c);this.$elem=b(e);this.init()}b.extend(a.prototype,{init:function(){var c=this.$elem;var e=parseInt(c.data("remain"),10);var d=this;if(c.size()===0||!e){return}this.remain=e;this.interval=window.setInterval(function(){d.start()},1000)},start:function(){if(this.remain<0){this.stop();return}this.get();this.remain--},pause:function(){if(this.interval){clearInterval(this.interval)}},stop:function(){this.pause();this.remain=-1;if(typeof this.config.onExpiry=="function"){this.config.onExpiry()}},reset:function(){this.pause();this.remain=b(this.config.output).data("remain")},get:function(){switch(this.config.type){case"all":b(this.config.output).html(this.getAll());break;case"day":b(this.config.day,this.$elem).html(this.getDay());break;case"hour":b(this.config.hour,this.$elem).html(this.getHour());break;case"minute":b(this.config.minute,this.$elem).html(this.getMinute());break;case"second":b(this.config.second,this.$elem).html(this.getSecond());break;default:this.getAll();break}},getAll:function(){if(!this.config.coke){b(this.config.day,this.$elem).html(this.getDay());b(this.config.hour,this.$elem).html(this.getHour())}else{b(this.config.hour,this.$elem).html(this.fillZero(parseInt(this.getDay())*24+parseInt(this.getHour()),2))}b(this.config.minute,this.$elem).html(this.getMinute());b(this.config.second,this.$elem).html(this.getSecond())},getDay:function(){var c=parseInt(this.remain/86400,10);return c!==0?c:0},getHour:function(){var c=parseInt((this.remain%86400)/3600,10);if(this.config.type&&this.config.type==="hour"){c=parseInt(this.getDay()*24+(this.remain%86400)/3600,10)}else{c=this.fillZero(c,2)}return c},getMinute:function(){var c=parseInt((this.remain%3600)/60,10);if(this.config.type&&this.config.type==="minute"){c=parseInt(this.getDay()*24*60+this.getHour()*60+(this.remain%3600)/60,10)}else{c=this.fillZero(c,2)}return c},getSecond:function(){var c=this.remain%60;if(this.config.type&&this.config.type==="second"){c=this.getDay()*24*60*60+this.getHour()*60*60+this.getMinute()*60+this.remain%60}else{c=this.fillZero(c,2)}return c},fillZero:function(c,e){var d=""+c;while(d.length<e){d="0"+d}return d}})})(Zepto);
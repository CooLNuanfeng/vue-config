(function(e,f){var d=1,c=function(){return d++},a={button:"<button>",checkbox:'<input type="checkbox" />',radio:'<input type="radio" />',input:'<input type="button" />'},b=function(h){var g=h.name,i=h.form,j=e([]);if(g){if(i){j=e(i).find("[name='"+g+"']")}else{j=e("[name='"+g+"']",h.ownerDocument)}}return j};e.ui.button.register(function(){return{pluginName:"input",_init:function(){var g=this._data;this._initOrg();(g.type=="checkbox"||g.type=="radio")&&this.root().prop("checked",!!g.selected)},_createDefEL:function(){return e(a[this._data.type])||this._createDefELOrg()},_detectType:function(){var g=this.root();return g.is("[type=checkbox]")?"checkbox":g.is("[type=radio]")?"radio":g.is("input")?"input":this._detectTypeOrg()},_prepareBtnEL:function(k){var j=this._data,h,i,g,l;if(j.type=="checkbox"||j.type=="radio"){g=this.root();g.addClass("ui-helper-hidden");if(k=="create"){if(!(h=j.attributes&&j.attributes.id)){h="input_"+c();e.extend(j.attributes||(j.attributes={}),{id:h})}i=e('<label for="'+h+'"></label>')}else{l="label[for='"+g.attr("id")+"']";i=g.siblings(l);if(!i.length){i=g.parent().find(l)}j.selected=j.selected||g.prop("checked")}}return i?i:this._prepareBtnELOrg(k)},_prepareDom:function(i){var h=this._data,g;if(h.type=="input"){g=this.root();h.label&&g.val(h.label);if(i!="create"){h.label=g.val()}}else{return this._prepareDomOrg(i)}},_setSelected:function(i){var h=this._data,g=h.type;h.selected!=i&&(g=="checkbox"||g=="radio")&&this._el.prop("checked",i);return this._setSelectedOrg(i)},_eventHandler:function(i){var h=this._data,g;if(!h.disabled){if(h.type=="checkbox"){h._buttonElement.toggleClass("ui-state-active");h.selected=!h.selected}else{if(h.type=="radio"){h._buttonElement.addClass("ui-state-active");h.selected=true;g=this._el[0];e.each(b(g).not(g).map(function(){return e(this).button("this")}),function(){if(!this instanceof e.ui.button){return}this.unselect()})}}}return this._eventHandlerOrg(i)},setIcon:function(g){var h=this._data,i=h.label;if(h.icon!=g&&h.type!="input"){if(h.icon){if(!g){h._iconSpan.remove();h._iconSpan=null;h._buttonElement.removeClass(i?"ui-button-text-icon":"ui-button-icon-only").addClass("ui-button-text-only")}else{h._iconSpan.removeClass("ui-icon-"+h.icon).addClass("ui-icon-"+g)}}else{h._iconSpan=e('<span class="ui-icon ui-icon-'+g+'"></span>').appendTo(this._buttonElement);h._buttonElement.removeClass("ui-button-text-only").addClass(i?"ui-button-text-icon":"ui-button-icon-only")}h.icon=g}return this}}})})(Zepto);